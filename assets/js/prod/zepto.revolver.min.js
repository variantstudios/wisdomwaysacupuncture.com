/* zepto.revolver - v0.0.3 - MIT */
/* A do-it-all carousel that's simple, flexible and lightweight */
/* https://github.com/stephenhutchings/zepto.revolver.git */
!function(t,i,e){"use strict";var n,s,r,o,a,u;s={draggingMS:300,controlsMS:800,autoplayMS:5e3,returnToStart:!0,returnToStartMS:1e3,stopOnHover:!0,navigation:["&larr;","&rarr;"],pagination:!0,paginationNumbers:!1,items:5,breakpoints:[[1199,4],[979,3],[768,2],[479,1]]},o="ontouchstart"in t,a=e.zepto,r="<div/>",u=function(t){var e,n,s,r,o,a;if(e=i.createElement("div").style,t in e)return t;for(a=["webkit","Moz","ms","O"],r=0,o=a.length;o>r;r++)if(s=a[r],n=s+t.charAt(0).toUpperCase()+t.substr(1),n in e)return n;return!1},n=function(t,i){return this.init(t,i),this},n.prototype={init:function(t,i){return this.opts=e.extend({},s,t),this.$el=e(i).css({display:"block"}).addClass("revolver"),this.supportTransform=u("transform")!==!1,this.currentSlide=0,this.playDirection="next",this.totalItems=this.$el.children().size(),this.wrapItems(),this.items=this.$el.find(".rv-item"),this.wrapper=this.$el.find(".rv-wrapper"),this.style=this.wrapper.get(0).style,this.style.display="block",this.bindMoveEvents(),this.bindCustomEvents(),this.bindStopOnHover(),this.bindResize(),this.updateVars()},reset:function(t){return this.opts=e.extend({},s,t),this.updateVars()},updateVars:function(){return this.setupControls(),this.sizeForBreakpoints(),this.resetAll(),this.updateItems(),this.updatePosition(),this.updateNavigation(),this.refreshPagination(),this.updatePagination(),this.play()&&this.opts.autoplayMS>0},wrapItems:function(){return this.$el.children().wrapAll('<div class="rv-wrapper">').wrap('<div class="rv-item"></div>')},sizeForBreakpoints:function(){var i,n,s,r,o,a;if(this.opts.breakpoints){for(n=e(t).width(),o=this.opts.breakpoints,a=[],s=0,r=o.length;r>s;s++)i=o[s],a.push(n<=i[0]?this.opts.items=i[1]:void 0);return a}},bindResize:function(){return this.opts.breakpoints?(this.opts.breakpoints.unshift([1/0,this.opts.items]),e(t).resize(function(t){return function(){t.opts.autoplayMS>0&&clearInterval(t.autoplay),clearTimeout(t.resizeDelay),t.resizeDelay=setTimeout(function(){return t.refreshPagination(),t.updateVars(),delete t.resizeDelay},200)}}(this))):void 0},updatePosition:function(){this.transition(0),this.translate(0),this.currentSlide=0},resetAll:function(){var t;this.itemWidth=Math.round(this.$el.width()/this.opts.items),this.style.width=""+this.items.size()*this.itemWidth*2+"px",this.style.left=0,this.items.each(function(t){return function(i,n){return e(n).css({width:t.itemWidth}).data("rv-item",i)}}(this)),this.lastSlide=this.totalItems-this.opts.items,this.maxPixels=-(this.totalItems*this.itemWidth-this.opts.items*this.itemWidth),this.positions=e.map(function(){t=[];for(var i=0,e=this.totalItems;e>=0?e>i:i>e;e>=0?i++:i--)t.push(i);return t}.apply(this),function(t){return function(i){return-t.itemWidth*i}}(this))},setupControls:function(){return this.opts.navigation||this.opts.pagination?(this.rvControls&&this.rvControls.remove(),this.rvControls=e(r,{"class":"rv-controls"}),this.opts.pagination&&this.setupPagination(),this.opts.navigation&&this.setupNavigation(),o||this.rvControls.addClass("clickable"),this.rvControls.appendTo(this.$el)):void 0},setupNavigation:function(){var t;return this.buttonPrev=e(r,{"class":"rv-prev",html:this.opts.navigation[0]}),this.buttonNext=e(r,{"class":"rv-next",html:this.opts.navigation[1]}),t=e(r,{"class":"rv-buttons"}),t.append(this.buttonPrev,this.buttonNext),this.updateNavigation(),this.rvControls.append(t).on(this.getEvent(),".rv-prev",function(t){return function(){return t.prev()}}(this)).on(this.getEvent(),".rv-next",function(t){return function(){return t.next()}}(this))},getEvent:function(){return o?"touchstart.rvControls":"click.rvControls"},setupPagination:function(){return this.paginationWrapper=e(r,{"class":"rv-pagination"}),this.rvControls.append(this.paginationWrapper).on(this.getEvent(),".rv-page",function(t){return function(i){var n;return i.preventDefault(),n=+e(i.currentTarget).data("rv-page"),n-=Math.floor(t.opts.items/2),t.goTo(n,n!==t.currentSlide?t.opts.controlsMS:0)}}(this))},refreshPagination:function(){var t,i,n,s;if(this.opts.pagination){for(this.paginationWrapper.html(""),s=[],t=i=0,n=this.totalItems;n>=0?n>i:i>n;t=n>=0?++i:--i)s.push(e(r,{"class":"rv-page"}).data("rv-page",t).html(this.opts.paginationNumbers?t+1:"").appendTo(this.paginationWrapper));return s}},updatePagination:function(){return this.paginationWrapper.find(".rv-page").removeClass("active").slice(this.currentSlide,this.currentSlide+this.opts.items).addClass("active")},updateItems:function(){return this.items.removeClass("active").slice(this.currentSlide,this.currentSlide+this.opts.items).addClass("active")},updateNavigation:function(){return this.opts.navigation?(this.buttonPrev.toggleClass("disabled",0===this.currentSlide),this.buttonNext.toggleClass("disabled",this.currentSlide===this.lastSlide)):void 0},destroyControls:function(){return this.rvControls.off("rvControls"),this.rvControls?this.rvControls.remove():void 0},next:function(t){return this.currentSlide+=this.opts.items,this.goTo(this.currentSlide,t||this.opts.controlsMS)},prev:function(t){return this.currentSlide-=this.opts.items,this.goTo(this.currentSlide,t||this.opts.controlsMS)},goTo:function(t,i){return this.currentSlide=Math.max(Math.min(t,this.lastSlide),0),this.supportTransform?(this.isCss3Finish=!1,this.transition(i),setTimeout(function(t){return function(){t.isCss3Finish=!0}}(this),i),this.translate(this.positions[this.currentSlide])):this.css2slide(this.positions[this.currentSlide],i),this.updateItems(),this.opts.pagination&&this.updatePagination(),this.opts.navigation&&this.updateNavigation(),this.opts.autoplayMS>0?this.play():void 0},stop:function(){return clearInterval(this.autoplay)},play:function(){clearInterval(this.autoplay),this.opts.autoplayMS>0&&(this.autoplay=setInterval(function(t){return function(){return t.currentSlide<t.lastSlide&&"next"===t.playDirection?t.next(t.opts.controlsMS):t.currentSlide===t.lastSlide?t.opts.returnToStart?t.goTo(0,t.opts.returnToStartMS):(t.playDirection="prev",t.prev(t.opts.controlsMS)):"prev"===t.playDirection&&t.currentSlide>0?t.prev(t.opts.controlsMS):"prev"===t.playDirection&&0===t.currentSlide?(t.playDirection="next",t.next(t.opts.controlsMS)):void 0}}(this),this.opts.autoplayMS))},transition:function(t){this.style[u("transition")]="all "+t+"ms ease"},translate:function(t){this.supportTransform?this.style[u("transform")]="translate3d("+t+"px, 0px, 0px)":this.style.left=""+t+"px"},css2slide:function(t,i){return this.isCssFinish=!1,this.wrapper.stop(!0,!0).animate({left:t},{duration:i||this.opts.draggingMS({complete:function(t){return function(){t.isCssFinish=!0}}(this)})})},bindMoveEvents:function(){var t,n,s,r,a,u,h,l;return r=0,a=0,this.isCssFinish=!0,this.isCss3Finish=!0,h=!0,n=!0,l={},u=function(u){return function(p){u.isCssFinish&&u.isCss3Finish&&(u.opts.autoplayMS>0&&clearInterval(u.autoplay),u.transition(0),u.newX=0,u.newY=0,u.newRelativeX=0,u.newRelativeY=0,l=u.wrapper.position(),h=!1,n=!1,o?(r=p.originalEvent.touches[0].pageX-l.left,a=p.originalEvent.touches[0].pageY-l.top):(u.wrapper.addClass("grabbing"),r=p.pageX-l.left,a=p.pageY-l.top,e(i).on("mousemove.revolver",s),e(i).on("mouseup.revolver",t)))}}(this),s=function(t){return function(i){var e,s;if(!h){if(o?(t.newX=i.originalEvent.touches[0].pageX-r,t.newY=i.originalEvent.touches[0].pageY-a):(t.newX=i.pageX-r,t.newY=i.pageY-a),t.newRelativeX=t.newX-l.left,t.newRelativeY=t.newY-l.top,(-8>t.newRelativeX||t.newRelativeX>8)&&!n)n=!0,i.preventDefault();else if((-10>t.newRelativeY||t.newRelativeY>10)&&!n)return void(h=!0);return s=t.newRelativeX/5,e=t.maxPixels+t.newRelativeX/5,t.newX=Math.max(Math.min(t.newX,s),e),t.translate(t.newX)}}}(this),t=function(t){return function(){return o||(t.wrapper.removeClass("grabbing"),e(i).off("mousemove.revolver"),e(i).off("mouseup.revolver")),0!==t.newX&&n?t.goTo(t.getNewPosition(),t.opts.draggingMS):void 0}}(this),o?this.$el.on("touchstart.revolver",".rv-wrapper",u).on("touchmove.revolver",".rv-wrapper",s).on("touchend.revolver",".rv-wrapper",t):this.$el.on("mousedown.revolver",".rv-wrapper",u).on("dragstart.revolver","img",function(t){return t.preventDefault()})},getNewPosition:function(){return this.improveClosest(),this.currentSlide>this.lastSlide?this.currentSlide=this.lastSlide:this.newX>=0&&(this.currentSlide=0),this.currentSlide},improveClosest:function(){var t,i,e,n,s,r,o;for(s=this.positions,o=[],i=e=0,n=s.length;n>e;i=++e)t=s[i],o.push(t>(r=this.newX+this.itemWidth/20)&&r>this.positions[i+1]?this.currentSlide="next"===this.moveDirection()?i:i+1:void 0);return o},moveDirection:function(){return this.playDirection=this.newRelativeX>0?"next":"prev",this.playDirection},bindCustomEvents:function(){return this.$el.on("next.revolver",function(t){return function(){return t.next()}}(this)).on("prev.revolver",function(t){return function(){return t.prev()}}(this)).on("play.revolver",function(t){return function(){return t.play()}}(this)).on("stop.revolver",function(t){return function(){return t.stop()}}(this))},bindStopOnHover:function(){return this.opts.stopOnHover&&this.opts.autoplayMS>0&&!o?(this.$el.on("mouseover.revolver",function(t){return function(){return t.stop()}}(this)),this.$el.on("mouseout.revolver",function(t){return function(){return t.play()}}(this))):void 0},destroy:function(){return e(i).off(".revolver"),this.destroyControls(),this.$el.off(".revolver").removeData("revolver")}},e.fn.revolver=function(t){return this.each(function(){return e(this).data("revolver")?void 0:e(this).data("revolver",new n(t,this))})}}(window,document,window.jQuery||window.Zepto);